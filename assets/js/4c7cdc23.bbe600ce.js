"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[72933],{76806:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>o});var d=n(85893),r=n(11151),i=n(4106);const t={},l="Address Service",a={id:"docs/dev-manuals/services/address",title:"Address Service",description:"The address service provides the bounded context Address.",source:"@site/docs/docs/dev-manuals/services/address.mdx",sourceDirName:"docs/dev-manuals/services",slug:"/docs/dev-manuals/services/address",permalink:"/docs/docs/dev-manuals/services/address",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Domain Services & System Components",permalink:"/docs/category/domain-services--system-components"},next:{title:"Catalog Service",permalink:"/docs/docs/dev-manuals/services/catalog"}},c={},o=[{value:"Domain Model",id:"domain-model",level:2},{value:"API",id:"api",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Repository Structure",id:"repository-structure",level:2},{value:"Defined Events",id:"defined-events",level:2},{value:"Published Defined Events",id:"published-defined-events",level:3},{value:"address/user-address/created",id:"addressuser-addresscreated",level:4},{value:"address/vendor-address/created",id:"addressvendor-addresscreated",level:4},{value:"address/user-address/archived",id:"addressuser-addressarchived",level:4},{value:"Subscribed Defined Events",id:"subscribed-defined-events",level:3},{value:"Imported Events",id:"imported-events",level:2},{value:"Published Imported Events",id:"published-imported-events",level:3},{value:"Subscribed Imported Events",id:"subscribed-imported-events",level:3},{value:"Important ADRs",id:"important-adrs",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.h1,{id:"address-service",children:"Address Service"}),"\n",(0,d.jsxs)(s.p,{children:["The address service provides the bounded context ",(0,d.jsx)(s.code,{children:"Address"}),".\nIt is responsible for managing addresses, both for users and of the vendor itself."]}),"\n",(0,d.jsx)(s.h2,{id:"domain-model",children:"Domain Model"}),"\n",(0,d.jsx)(i.Z,{path:"/renderedDiagrams/addressDomainModel",width:"682.5",height:"487"}),"\n",(0,d.jsx)(s.admonition,{type:"info",children:(0,d.jsx)(s.p,{children:"Imported entities from other bounded contexts are marked with a dashed border."})}),"\n",(0,d.jsx)(s.h2,{id:"api",children:"API"}),"\n",(0,d.jsxs)(s.p,{children:["The service provides a GraphQL API, which is documented in the ",(0,d.jsx)(s.a,{href:"/docs/graphql/address",children:"GraphQL API documentation"}),"."]}),"\n",(0,d.jsx)(s.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Language"}),": Kotlin"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Framework"}),": Spring Boot"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"GraphQL Library"}),": GraphQL Kotlin"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Database"}),": PostgreSQL"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Schema Management"}),": Flyway"]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"repository-structure",children:"Repository Structure"}),"\n",(0,d.jsx)(s.p,{children:"The repository is structured as follows:"}),"\n",(0,d.jsx)("div",{className:"repository-structure",children:(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"/src/main/"}),": Source code of the service","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"kotlin/org/misarch/address/"}),": Kotlin source code","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"event/"}),": Dapr event handling","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"model/"}),": Event DTOs"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"graphql/"}),": GraphQL API","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"dataloader/"}),": Data loaders for efficient data fetching"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"federation/"}),": Apollo Federation entity resolvers"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"input/"}),": Input types for mutations"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"model/"}),": GraphQL types","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"connection/"}),": Connection types and logic for paginated queries"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"persistance/"}),": Database entities and repositories","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"model/"}),": R2DBC entities"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"repository/"}),": Spring Data R2DBC repositories"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"service/"}),": Service logic"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"resources/"}),": Spring Boot application configuration and SQL schema migration files","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"db/migration/"}),": Flyway SQL schema migration files"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,d.jsx)(s.h2,{id:"defined-events",children:"Defined Events"}),"\n",(0,d.jsx)(s.p,{children:"This section lists events that are defined by the address service and can be used by other services."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:"interface Name {\n  firstName: string;\n  lastName: string;\n}\n"})}),"\n",(0,d.jsx)(s.h3,{id:"published-defined-events",children:"Published Defined Events"}),"\n",(0,d.jsx)(s.h4,{id:"addressuser-addresscreated",children:"address/user-address/created"}),"\n",(0,d.jsx)(s.p,{children:"This event is published when a new user address is created."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:"{\n  id: string,\n  name?: Name,\n  street1: string,\n  street2: string,\n  city: string,\n  postalCode: string,\n  country: string,\n  companyName?: string,\n  userId: string\n}\n"})}),"\n",(0,d.jsx)(s.h4,{id:"addressvendor-addresscreated",children:"address/vendor-address/created"}),"\n",(0,d.jsx)(s.p,{children:"This event is published when a new vendor address is created."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:"{\n  id: string,\n  name?: Name,\n  street1: string,\n  street2: string,\n  city: string,\n  postalCode: string,\n  country: string,\n  companyName?: string\n}\n"})}),"\n",(0,d.jsx)(s.h4,{id:"addressuser-addressarchived",children:"address/user-address/archived"}),"\n",(0,d.jsx)(s.p,{children:"This event is published when a user address is archived."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:"{\n  id: string,\n  userId: string\n}\n"})}),"\n",(0,d.jsx)(s.h3,{id:"subscribed-defined-events",children:"Subscribed Defined Events"}),"\n",(0,d.jsx)(s.p,{children:"n/a"}),"\n",(0,d.jsx)(s.h2,{id:"imported-events",children:"Imported Events"}),"\n",(0,d.jsx)(s.p,{children:"This section lists events defined by other services that are used by the address service."}),"\n",(0,d.jsx)(s.h3,{id:"published-imported-events",children:"Published Imported Events"}),"\n",(0,d.jsx)(s.p,{children:"n/a"}),"\n",(0,d.jsx)(s.h3,{id:"subscribed-imported-events",children:"Subscribed Imported Events"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.a,{href:"/docs/docs/dev-manuals/services/user#userusercreated",children:"user/user/created"}),": Used to validate that addresses belong to an existing users"]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"important-adrs",children:"Important ADRs"}),"\n",(0,d.jsx)(s.p,{children:"n/a"})]})}function u(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},4106:(e,s,n)=>{n.d(s,{Z:()=>o});var d=n(92949),r=n(44996),i=n(67294),t=n(99276),l=n(85893);function a(e){let{image:s}=e;const d=(0,i.useId)();return(0,i.useEffect)((()=>{let e=new t.Z({gallery:"#"+CSS.escape(d),children:"a",pswpModule:()=>n.e(15826).then(n.bind(n,15826))});return e.init(),()=>{e.destroy(),e=null}}),[]),(0,l.jsx)("div",{className:"pswp-gallery",id:d,children:(0,l.jsx)("a",{href:s.url,"data-pswp-width":s.width,"data-pswp-height":s.height,target:"_blank",rel:"noreferrer",children:(0,l.jsx)("img",{src:s.url,alt:s.alt})},d+"-0")})}var c=n(91262);function o(e){let{path:s,extension:n,alt:i,width:t,height:o}=e;const{colorMode:h}=(0,d.I)(),u={url:(0,r.Z)(`${s}-${h}.${n??"svg"}`),alt:i,width:t,height:o};return(0,l.jsx)(c.Z,{children:()=>(0,l.jsx)(a,{image:u})})}}}]);